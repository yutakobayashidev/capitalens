(self.webpackChunkcapitalens=self.webpackChunkcapitalens||[]).push([[838],{"./src/components/header/header.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,default:()=>header_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),dist=__webpack_require__("./node_modules/@next-auth/prisma-adapter/dist/index.js"),index_browser=__webpack_require__("./node_modules/@prisma/client/index-browser.js");const prisma=globalThis.prisma||new index_browser.PrismaClient;var _Basic$parameters,_Basic$parameters2,next_auth=__webpack_require__("./node_modules/next-auth/index.js"),google=__webpack_require__("./node_modules/@auth/core/providers/google.js"),process=__webpack_require__("./node_modules/process/browser.js"),_NextAuth=(0,next_auth.Z)({adapter:(0,dist.N)(prisma),providers:[(0,google.Z)({clientId:process.env.GOOGLE_ID,clientSecret:process.env.GOOGLE_SECRET})],secret:process.env.SECRET}),auth=_NextAuth.auth,_NextAuth$handlers=(_NextAuth.CSRF_experimental,_NextAuth.handlers),site_config=(_NextAuth$handlers.GET,_NextAuth$handlers.POST,__webpack_require__("./site.config.ts")),login=__webpack_require__("./src/components/login/login.tsx"),user_menu=__webpack_require__("./src/components/user-menu/user-menu.tsx"),designsystem_icons_dist=__webpack_require__("./node_modules/@xpadev-net/designsystem-icons/dist/index.js"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),__jsx=react.createElement;function StoryBookHeader(_ref){var user=_ref.user;return __jsx("header",{className:"relative flex h-16 items-center border-b border-gray-200 bg-white"},__jsx("div",{className:"mx-auto flex w-full max-w-screen-xl px-4 md:px-8"},__jsx(link_default(),{href:"/",className:"flex items-center text-2xl font-bold"},site_config.v.siteMeta.title),__jsx("div",{className:"ml-auto flex items-center gap-x-4"},__jsx(link_default(),{href:"/search"},__jsx(designsystem_icons_dist.SearchIcon,{className:"inline-block w-auto text-2xl text-gray-400",width:"1em",height:"1em",fill:"currentColor"})),user?__jsx(user_menu.Z,{user}):__jsx(login.m,null))))}function Header(){return _Header.apply(this,arguments)}function _Header(){return(_Header=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){var session;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,auth();case 2:return session=_context.sent,_context.abrupt("return",__jsx(StoryBookHeader,{user:null==session?void 0:session.user}));case 4:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}StoryBookHeader.displayName="StoryBookHeader",Header.displayName="Header",StoryBookHeader.__docgenInfo={description:"",methods:[],displayName:"StoryBookHeader",props:{user:{required:!0,tsType:{name:'Session["user"]',raw:'Session["user"]'},description:""}}},Header.__docgenInfo={description:"",methods:[],displayName:"Header"};try{StoryBookHeader.displayName="StoryBookHeader",StoryBookHeader.__docgenInfo={description:"",displayName:"StoryBookHeader",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"{ name?: string | null | undefined; email?: string | null | undefined; image?: string | null | undefined; } | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/header/header.tsx#StoryBookHeader"]={docgenInfo:StoryBookHeader.__docgenInfo,name:"StoryBookHeader",path:"src/components/header/header.tsx#StoryBookHeader"})}catch(__react_docgen_typescript_loader_error){}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Basic={args:{user:{id:"cuid",name:"John Doe",createdAt:"2023-10-11T18:32:56.263Z",email:"email@example.com",image:"https://avatars.githubusercontent.com/u/9919?s=200&v=4",kids:!1,prefectureId:null,updatedAt:"2023-10-11T18:32:56.263Z"}}};const header_stories={component:StoryBookHeader,parameters:{layout:"fullscreen"}};Basic.parameters=_objectSpread(_objectSpread({},Basic.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Basic$parameters=Basic.parameters)||void 0===_Basic$parameters?void 0:_Basic$parameters.docs),{},{source:_objectSpread({originalSource:'{\n  args: {\n    user: {\n      id: "cuid",\n      name: "John Doe",\n      createdAt: "2023-10-11T18:32:56.263Z",\n      email: "email@example.com",\n      image: "https://avatars.githubusercontent.com/u/9919?s=200&v=4",\n      kids: false,\n      prefectureId: null,\n      updatedAt: "2023-10-11T18:32:56.263Z"\n    }\n  }\n}'},null===(_Basic$parameters2=Basic.parameters)||void 0===_Basic$parameters2||null===(_Basic$parameters2=_Basic$parameters2.docs)||void 0===_Basic$parameters2?void 0:_Basic$parameters2.source)})})},"./site.config.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>config});var config={siteMeta:{title:"CapitaLens",description:"本プロジェクトは、国会での議論、提出された法案、国会議員の情報などを整理し、視覚的に表示することを目的としています。"},siteRoot:"https://capitalens.vercel.app/",SocialLinks:{discord:"https://discord.gg/tcc5AvRSr9",github:"https://github.com/yutakobayashidev/capitalens"}}},"./src/components/login/login.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>Login});var _path,_path2,_path3,_path4,react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dialog_dialog=__webpack_require__("./node_modules/@headlessui/react/dist/components/dialog/dialog.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const g_logo=function SvgGLogo(props){return react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:705.6,height:720,viewBox:"0 0 186.69 190.5"},props),_path||(_path=react.createElement("path",{fill:"#4285f4",d:"M95.25 77.932v36.888h51.262c-2.251 11.863-9.006 21.908-19.137 28.662l30.913 23.986c18.011-16.625 28.402-41.044 28.402-70.052 0-6.754-.606-13.249-1.732-19.483z"})),_path2||(_path2=react.createElement("path",{fill:"#34a853",d:"m41.869 113.38-6.972 5.337-24.679 19.223c15.673 31.086 47.796 52.561 85.03 52.561 25.717 0 47.278-8.486 63.038-23.033l-30.913-23.986c-8.486 5.715-19.31 9.179-32.125 9.179-24.765 0-45.806-16.712-53.34-39.226z"})),_path3||(_path3=react.createElement("path",{fill:"#fbbc05",d:"M10.218 52.561C3.724 65.376.001 79.837.001 95.25s3.723 29.874 10.217 42.689c0 .086 31.693-24.592 31.693-24.592-1.905-5.715-3.031-11.776-3.031-18.098s1.126-12.383 3.031-18.098z"})),_path4||(_path4=react.createElement("path",{fill:"#ea4335",d:"M95.25 37.927c14.028 0 26.497 4.849 36.455 14.201l27.276-27.276C142.442 9.439 120.968 0 95.25 0 58.016 0 25.891 21.388 10.218 52.561L41.91 77.153c7.533-22.514 28.575-39.226 53.34-39.226z"})))};var site_config=__webpack_require__("./site.config.ts"),transition=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),__jsx=react.createElement;function Modal(_ref){var children=_ref.children,isOpen=_ref.isOpen,setIsOpen=_ref.setIsOpen;return __jsx(transition.u,{appear:!0,show:isOpen,as:react.Fragment},__jsx(dialog_dialog.V,{as:"div",className:"relative z-10",onClose:function onClose(){return setIsOpen(!1)}},__jsx(transition.u.Child,{as:react.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"},__jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})),__jsx("div",{className:"fixed inset-0 overflow-y-auto"},__jsx("div",{className:"flex min-h-full items-center justify-center p-4"},__jsx(transition.u.Child,{as:react.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"},children)))))}Modal.displayName="Modal",Modal.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{name:"open",type:{name:"boolean"}}],return:{name:"void"}}},description:""}}};try{dialog.displayName="dialog",dialog.__docgenInfo={description:"",displayName:"dialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(open: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#dialog"]={docgenInfo:dialog.__docgenInfo,name:"dialog",path:"src/components/ui/dialog.tsx#dialog"})}catch(__react_docgen_typescript_loader_error){}var next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),next_auth_react=__webpack_require__("./node_modules/next-auth/react.js"),login_jsx=react.createElement;function LoginPrompt(_ref){var message=_ref.message;return login_jsx("div",{className:"mt-3 text-center"},login_jsx("p",{className:"mb-3 font-semibold"},message),login_jsx(Login,null))}function Login(){var _useState=(0,react.useState)(!1),isModalOpen=_useState[0],setIsModalOpen=_useState[1];return login_jsx("div",null,login_jsx("button",{onClick:function handleModal(){setIsModalOpen(!isModalOpen)},className:"bg-primary rounded-lg px-4 py-2 font-bold text-white"},"ログイン"),login_jsx(Modal,{isOpen:isModalOpen,setIsOpen:setIsModalOpen},login_jsx(dialog_dialog.V.Panel,{className:"w-full max-w-md overflow-hidden rounded-2xl bg-white p-10 text-center align-middle shadow-xl transition-all"},login_jsx("div",{className:"mb-2 text-4xl font-bold"},site_config.v.siteMeta.title),login_jsx("div",{className:"mt-6"},login_jsx("p",{className:"leading-7 text-gray-600"},"ログインすると、法案に対するコメントや、AI機能の利用、新機能のテストなどが行なえます。")),login_jsx("button",{onClick:function onClick(){return(0,next_auth_react.zB)("google")},className:"mt-4 inline-flex items-center justify-center rounded-xl border border-gray-200 px-10 py-4 font-semibold text-gray-600 shadow-sm md:px-6"},login_jsx("span",{className:"mr-2 inline-flex items-center"},login_jsx(g_logo,{width:22,height:22})),login_jsx("span",{className:"hidden md:block"},"Googleアカウントでログイン"),login_jsx("span",{className:"md:hidden"},"Googleでログイン")),login_jsx("p",{className:"mt-6 text-left text-sm text-gray-500"},"続行することで、",login_jsx(link_default(),{href:"/guideline",className:"text-primary font-medium hover:underline"},"ガイドライン"),"、",login_jsx(link_default(),{href:"/privacy",className:"text-primary font-medium hover:underline"},"プライバシーポリシー"),"に同意したものと見なされます。"))))}LoginPrompt.displayName="LoginPrompt",Login.displayName="Login",LoginPrompt.__docgenInfo={description:"",methods:[],displayName:"LoginPrompt",props:{message:{required:!0,tsType:{name:"string"},description:""}}},Login.__docgenInfo={description:"",methods:[],displayName:"Login"};try{LoginPrompt.displayName="LoginPrompt",LoginPrompt.__docgenInfo={description:"",displayName:"LoginPrompt",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/login/login.tsx#LoginPrompt"]={docgenInfo:LoginPrompt.__docgenInfo,name:"LoginPrompt",path:"src/components/login/login.tsx#LoginPrompt"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/user-menu/user-menu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>UserMenu});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@headlessui/react/dist/components/menu/menu.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),next_link__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__),next_auth_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/next-auth/react.js"),react_icons_fi__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),react_icons_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,userNavigation=[{name:"アカウント設定",elementType:"link",href:"/dashboard/settings",icon:__jsx(react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.nbt,{color:"#93a5b1"})},{name:"ログアウト",elementType:"button",icon:__jsx(react_icons_md__WEBPACK_IMPORTED_MODULE_5__.LvP,{color:"#93a5b1"}),onClick:function onClick(){return(0,next_auth_react__WEBPACK_IMPORTED_MODULE_3__.w7)()}}];function UserMenu(_ref){var _user$image,user=_ref.user;return __jsx(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.v,{as:"div",className:"relative"},__jsx("div",null,__jsx(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.v.Button,{className:"flex text-sm focus:outline-none focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},__jsx("img",{className:"h-10 w-10 rounded-full border border-gray-200",src:null!==(_user$image=user.image)&&void 0!==_user$image?_user$image:"/noimage.png",alt:user.name||"メニューを開く"}))),__jsx(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.u,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},__jsx(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.v.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},userNavigation.map((function(item){return __jsx(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.v.Item,{key:item.name},(function(_ref2){var active=_ref2.active;return"link"===item.elementType&&item.href?__jsx(next_link__WEBPACK_IMPORTED_MODULE_2___default(),{href:item.href,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(active?"bg-gray-100":"","flex items-center px-4 py-2 text-gray-700")},__jsx("span",{className:"mr-1"},item.icon),item.name):__jsx("button",{onClick:item.onClick,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(active?"bg-gray-100":"","w-full flex items-center px-4 py-2 text-gray-700")},__jsx("span",{className:"mr-1"},item.icon),item.name)}))})))))}UserMenu.displayName="UserMenu",UserMenu.__docgenInfo={description:"",methods:[],displayName:"UserMenu",props:{user:{required:!0,tsType:{name:'Session["user"]',raw:'Session["user"]'},description:""}}};try{usermenu.displayName="usermenu",usermenu.__docgenInfo={description:"",displayName:"usermenu",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"{ name?: string | null | undefined; email?: string | null | undefined; image?: string | null | undefined; } | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/user-menu/user-menu.tsx#usermenu"]={docgenInfo:usermenu.__docgenInfo,name:"usermenu",path:"src/components/user-menu/user-menu.tsx#usermenu"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/next/dist/server/web/spec-extension lazy recursive":module=>{function webpackEmptyAsyncContext(req){return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=()=>[],webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id="./node_modules/next/dist/server/web/spec-extension lazy recursive",module.exports=webpackEmptyAsyncContext}}]);